name: "Build .NET Core projects"
description: "Build and test .NET Core projects"
author: "Antoine Milochau"
inputs:
  projectsToBuild:
    description: "The path to the projects to build - can be a .csproj or a .sln file"
    required: true
  projectsToTest:
    description: "The path to the projects to test - can be a .csproj or a .sln file"
    required: true
runs:
  using: "composite"
  steps:
    - name: Restore dependencies
      shell: bash
      run: dotnet restore ${{ inputs.projectsToBuild }}
    - name: Build application
      shell: bash
      run: dotnet build ${{ inputs.projectsToBuild }} --configuration Release --no-restore
    - name: Test application
      run: dotnet test ${{ inputs.projectsToTest }} --configuration Release --no-restore --no-build
